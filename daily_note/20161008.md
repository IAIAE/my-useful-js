# 设计模式：单例模式
单例模式的精髓在于保证只存在一个对象的实例，并且可以共享。

js中要实现单例模式其实很简单，一个全局可访问的对象字面量就是单例：`{name:'iaiae'}`。这绝对没错。

但是，实际情况下，实现单例模式可以注意这一点：创建对象和管理单例的逻辑分开。并且相互之间耦合越小越好。

于是可以写一份代码：用于管理单例：

```javascript
var getSingleton = function(generator){
    var result;
    return function(){  //可以保证generator方法只执行一次
        return result || (result = generator.apply(this, arguments));
    };
};
```

然后，只要是你想保证只执行一次的方法都可以往里面塞。比如：

```javascript
var createDiv = function(html){
    var div = document.createElement('div');
    div.innerHTML = html;
    return div;
};
var getDivSingleton = getSingleton(createDiv);
var div1 = getDivSingleton('hello');
var div2 = getDivSingleton('world');
console.info(div1 === div2);  //true
```
